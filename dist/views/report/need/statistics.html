<title>需求统计</title>
<div class="layui-fluid">
	<div class="layui-form  layuiadmin-card-header-auto" lay-filter="app-content-list">
		<div class="layui-tab layui-tab-card" lay-filter="" lay-allowclose="true">
			<ul class="layui-tab-title">
				<li data-status="" class="layui-this">未培训</li>
				<li data-status="1">按部门</li>
				<li data-status="2">按职位类型</li>
				<li data-status="3">按职位级别</li>
				<li data-status="4">按课程类型</li>
				<li data-status="5">按等效课程</li>
				<li data-status="6">按优先级</li>
				<li data-status="7">按课程属性</li>
				<li data-status="8">按职位</li>
				<li data-status="9">按工龄</li>
				<li data-status="10">按员工</li>
			</ul>

			<div class="layui-tab-content">

				<!-- 未培训查询，默认开始 -->
				<div class="layui-tab-item layui-show">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息1</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>

						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>

					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-havenot" lay-filter="LAY-report-statistics-havenot"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate','element'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form,
							element=layui.element;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-havenot',
				            url: commonSrc + 'api/hr/holidayApplyController/selectHolidayApplyList',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {type: 'checkbox', fixed: "left"},
				                {field: 'id', title: 'id', hide: true},
				                {field: 'commonId', title: '申请公共id', hide: true},
				                {field: 'applyId', title: '申请人id', hide: true},
				                {field: 'applyName', title: '申请人姓名', align: 'center'},
				                {field: 'type', title: '休假类型',templet: "#type", align: 'center'},
				                {field: 'linkTel', title: '联系电话', align: 'center'},
				                {field: 'startTime', title: '请假开始日期', align: 'center'},
				                {field: 'endTime', title: '请假结束日期', align: 'center'},
				                {field: 'proxyName', title: '临时代理人', align: 'center'},
				                {field: 'extension', title: '代理人电话', align: 'center'},
				                {field: 'reason', title: '申请理由', align: 'center'},
				                {field: 'checkStatus', title: '申请状态', templet: "#buttonTpl", minWidth: 80, align: 'center'},
				                {fixed: 'right', title: '操作', toolbar: '#table-content-list', minWidth: 150}
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-havenot)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-havenot');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-havenot"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-havenot', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-havenot'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-havenot');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-havenot'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>
				
				<!--按部门查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息2</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-department" lay-filter="LAY-report-statistics-department"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-department',
				            url: commonSrc + 'api/hr/holidayApplyController/selectHolidayApplyList',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {type: 'checkbox', fixed: "left"},
				                {field: 'id', title: 'id', hide: true},
				                {field: 'commonId', title: '申请公共id', hide: true},
				                {field: 'applyId', title: '申请人id', hide: true},
				                {field: 'applyName', title: '申请人姓名', align: 'center'},
				                {field: 'type', title: '休假类型',templet: "#type", align: 'center'},
				                {field: 'linkTel', title: '联系电话', align: 'center'},
				                {field: 'startTime', title: '请假开始日期', align: 'center'},
				                {field: 'endTime', title: '请假结束日期', align: 'center'},
				                {field: 'proxyName', title: '临时代理人', align: 'center'},
				                {field: 'extension', title: '代理人电话', align: 'center'},
				                {field: 'reason', title: '申请理由', align: 'center'},
				                {field: 'checkStatus', title: '申请状态', templet: "#buttonTpl", minWidth: 80, align: 'center'},
				                {fixed: 'right', title: '操作', toolbar: '#table-content-list', minWidth: 150}
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-department)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-department');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-department"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-department', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-department'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-department');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-department'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按职位类型查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息3</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-type" lay-filter="LAY-report-statistics-type"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-type',
				            url: commonSrc + 'api/hr/holidayApplyController/selectHolidayApplyList',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {type: 'checkbox', fixed: "left"},
				                {field: 'id', title: 'id', hide: true},
				                {field: 'commonId', title: '申请公共id', hide: true},
				                {field: 'applyId', title: '申请人id', hide: true},
				                {field: 'applyName', title: '申请人姓名', align: 'center'},
				                {field: 'type', title: '休假类型',templet: "#type", align: 'center'},
				                {field: 'linkTel', title: '联系电话', align: 'center'},
				                {field: 'startTime', title: '请假开始日期', align: 'center'},
				                {field: 'endTime', title: '请假结束日期', align: 'center'},
				                {field: 'proxyName', title: '临时代理人', align: 'center'},
				                {field: 'extension', title: '代理人电话', align: 'center'},
				                {field: 'reason', title: '申请理由', align: 'center'},
				                {field: 'checkStatus', title: '申请状态', templet: "#buttonTpl", minWidth: 80, align: 'center'},
				                {fixed: 'right', title: '操作', toolbar: '#table-content-list', minWidth: 150}
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-type)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-type');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-type"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-type', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-type'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-type');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-type'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按职位级别查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息4</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-rank" lay-filter="LAY-report-statistics-rank"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-rank',
				            url: commonSrc + 'api/hr/holidayApplyController/selectHolidayApplyList',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {type: 'checkbox', fixed: "left"},
				                {field: 'id', title: 'id', hide: true},
				                {field: 'commonId', title: '申请公共id', hide: true},
				                {field: 'applyId', title: '申请人id', hide: true},
				                {field: 'applyName', title: '申请人姓名', align: 'center'},
				                {field: 'type', title: '休假类型',templet: "#type", align: 'center'},
				                {field: 'linkTel', title: '联系电话', align: 'center'},
				                {field: 'startTime', title: '请假开始日期', align: 'center'},
				                {field: 'endTime', title: '请假结束日期', align: 'center'},
				                {field: 'proxyName', title: '临时代理人', align: 'center'},
				                {field: 'extension', title: '代理人电话', align: 'center'},
				                {field: 'reason', title: '申请理由', align: 'center'},
				                {field: 'checkStatus', title: '申请状态', templet: "#buttonTpl", minWidth: 80, align: 'center'},
				                {fixed: 'right', title: '操作', toolbar: '#table-content-list', minWidth: 150}
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-rank)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-rank');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-rank"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-rank', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-rank'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-rank');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-rank'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按课程类型查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息5</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="courseTypeId" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="courseAttrId" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="employId" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="courseId" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-subject" lay-filter="LAY-report-statistics-subject"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-subject',
				            url: commonSrc + 'api/train/demandStatisticsController/listByCourseType',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [
								[{
									type: 'checkbox',
									fixed: "left",
								},{
									field: 'avgDemandHours', 
									title: '人均需求小时', 
									align: 'center',
								},{
									field: 'avgDynamicHours', 
									title: '人均动态需求小时',
									align: 'center',
								},{
									field: 'avgFinishHours', 
									title: '人均完成需求小时', 
									align: 'center',
								},{
									field: 'courseTypeName', 
									title: '课程类型', 
									align: 'center',
								},{
									field: 'demandNum', 
									title: '需求人数', 
									align: 'center',
								},{
									field: 'developDemandNum', 
									title: '发展需求人次x2', 
									align: 'center',
								},{
									field: 'dynamicNum', 
									title: '动态需求人次x1+x2-y-z',
									align: 'center',
								},{
									field: 'exemptNum', 
									title: '免除培训人次z', 
									align: 'center',
								},{
									field: 'finishRate', 
									title: '需求完成率(y+z)/(x1+x2)',
									 align: 'center',
								},{
									field: 'staticDemandNum', 
									title: '静态需求人次x1', 
									align: 'center',
								},{
									field: 'trainedNum', 
									title: '已培训人次y', 
									align: 'center',
								}]
									],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-subject)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-subject');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-subject"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-subject', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-subject'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-subject');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-subject'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按等效课程查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息6</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-equivalent" lay-filter="LAY-report-statistics-equivalent"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-equivalent',
				            url: commonSrc + 'api/train/demandStatisticsController/listByCourse',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {
									type: 'checkbox', 
									fixed: "left",
								},{
				                	field: 'avgDemandHours', 
				                	title: '人均需求小时', 
				                	align: 'center',
				                },{
				                	field: 'avgDynamicHours', 
				                	title: '人均动态需求小时',
				                	align: 'center',
				                },{
				                	field: 'avgFinishHours', 
				                	title: '人均完成需求小时', 
				                	align: 'center',
				                },{
				                	field: 'demandNum', 
				                	title: '需求人数', 
				                	align: 'center',
				                },{
				                	field: 'developDemandNum', 
				                	title: '发展需求人次x2', 
				                	align: 'center',
				                },{
				                	field: 'dynamicNum', 
				                	title: '动态需求人次x1+x2-y-z',
				                	hide: true,
				                },{
				                	field: 'exemptNum', 
				                	title: '免除培训人次z', 
				                	hide: true,
				                },{
				                	field: 'finishRate', 
				                	title: '需求完成率(y+z)/(x1+x2)',
				                	hide: true,
				                },{
				                	field: 'staticDemandNum', 
				                	title: '静态需求人次x1', 
				                	hide: true,
				                },{
				                	field: 'topic', 
				                	title: '等效课程', 
				                	align: 'center',
				                },{
				                	field: 'trainedNum', 
				                	title: '已培训人次y', 
				                	hide: true,
				                }
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-equivalent)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-equivalent');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-equivalent"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-equivalent', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-equivalent'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-equivalent');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-equivalent'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按优先级查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息7</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-precedence" lay-filter="LAY-report-statistics-precedence"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-precedence',
				            url: commonSrc + 'api/train/demandStatisticsController/listByPriority',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {
									type: 'checkbox', 
									fixed: "left",
								},{
				                	field: 'avgDemandHours', 
				                	title: '人均需求小时', 
				                	align: 'center',
				                },{
				                	field: 'avgDynamicHours', 
				                	title: '人均动态需求小时',
				                	align: 'center',
				                },{
				                	field: 'avgFinishHours', 
				                	title: '人均完成需求小时', 
				                	align: 'center',
				                },{
				                	field: 'demandNum', 
				                	title: '需求人数', 
				                	align: 'center',
				                },{
				                	field: 'developDemandNum', 
				                	title: '发展需求人次x2', 
				                	align: 'center',
				                },{
				                	field: 'dynamicNum', 
				                	title: '动态需求人次x1+x2-y-z',
				                	align: 'center',
				                },{
				                	field: 'exemptNum', 
				                	title: '免除培训人次z', 
				                	align: 'center',
				                },{
				                	field: 'finishRate', 
				                	title: '需求完成率(y+z)/(x1+x2)',
				                	 align: 'center',
				                },{
				                	field: 'priority', 
				                	title: '优先级：1：必修；2：选修', 
				                	align: 'center',
				                },{
				                	field: 'staticDemandNum', 
				                	title: '静态需求人次x1', 
				                	align: 'center',
				                },{
				                	field: 'trainedNum', 
				                	title: '已培训人次y', 
				                	align: 'center',
				                }
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-precedence)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-precedence');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-precedence"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-precedence', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-precedence'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-precedence');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-precedence'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按课程属性查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息8</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-genera" lay-filter="LAY-report-statistics-genera"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-genera',
				            url: commonSrc + 'api/train/demandStatisticsController/listByCourseAttr',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {
									type: 'checkbox', 
									fixed: "left",
								},{
				                	field: 'avgDemandHours', 
				                	title: '人均需求小时', 
				                	align: 'center',
				                },{
				                	field: 'avgDynamicHours', 
				                	title: '人均动态需求小时',
				                	align: 'center',
				                },{
				                	field: 'avgFinishHours', 
				                	title: '人均完成需求小时', 
				                	align: 'center',
				                },{
				                	field: 'courseAttrName', 
				                	title: '需求人数', 
				                	align: 'center',
				                },{
				                	field: 'developDemandNum', 
				                	title: '发展需求人次x2', 
				                	align: 'center',
				                },{
				                	field: 'dynamicNum', 
				                	title: '动态需求人次x1+x2-y-z',
				                	align: 'center',
				                },{
				                	field: 'exemptNum', 
				                	title: '免除培训人次z', 
				                	align: 'center',
				                },{
				                	field: 'finishRate', 
				                	title: '需求完成率(y+z)/(x1+x2)',
				                	 align: 'center',
				                },{
				                	field: 'staticDemandNum', 
				                	title: '静态需求人次x1', 
				                	align: 'center',
				                },{
				                	field: 'trainedNum', 
				                	title: '已培训人次y', 
				                	align: 'center',
				                }
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-genera)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-genera');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-genera"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-genera', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-genera'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-genera');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-genera'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按职位查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息9</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-LAY-report-statistics-position" lay-filter="LAY-report-statistics-LAY-report-statistics-position"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-position',
				            url: commonSrc + 'api/hr/holidayApplyController/selectHolidayApplyList',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {type: 'checkbox', fixed: "left"},
				                {field: 'id', title: 'id', hide: true},
				                {field: 'commonId', title: '申请公共id', hide: true},
				                {field: 'applyId', title: '申请人id', hide: true},
				                {field: 'applyName', title: '申请人姓名', align: 'center'},
				                {field: 'type', title: '休假类型',templet: "#type", align: 'center'},
				                {field: 'linkTel', title: '联系电话', align: 'center'},
				                {field: 'startTime', title: '请假开始日期', align: 'center'},
				                {field: 'endTime', title: '请假结束日期', align: 'center'},
				                {field: 'proxyName', title: '临时代理人', align: 'center'},
				                {field: 'extension', title: '代理人电话', align: 'center'},
				                {field: 'reason', title: '申请理由', align: 'center'},
				                {field: 'checkStatus', title: '申请状态', templet: "#buttonTpl", minWidth: 80, align: 'center'},
				                {fixed: 'right', title: '操作', toolbar: '#table-content-list', minWidth: 150}
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-position)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-position');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-position"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-position', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-position'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-position');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-position'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按工龄查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息10</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-length" lay-filter="LAY-report-statistics-length"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function () {
				        var $ = layui.$,
				            admin = layui.admin,
				            view = layui.view,
				            table = layui.table,
				            laydate = layui.laydate,
				            form = layui.form;
				
				        //表格渲染
				        table.render({
				            elem: '#LAY-report-statistics-length',
				            url: commonSrc + 'api/hr/holidayApplyController/selectHolidayApplyList',
							toolbar: '#toolbarDemo',
				            request: {
				                pageName: 'pageNum' //页码的参数名称，默认：page
				                ,
				                limitName: 'pageSize' //每页数据量的参数名，默认：limit
				            },
				            response: {
				                statusCode: 200 //规定成功的状态码，默认：0
				            },
				            parseData: function (res) { //res 即为原始返回的数据
				                return {
				                    "code": res.code, //解析接口状态
				                    "msg": res.desc, //解析提示文本
				                    "count": res.total, //解析数据长度
				                    "data": res.dataList //解析数据列表
				                };
				            },
				            cols: [[
				                {type: 'checkbox', fixed: "left"},
				                {field: 'id', title: 'id', hide: true},
				                {field: 'commonId', title: '申请公共id', hide: true},
				                {field: 'applyId', title: '申请人id', hide: true},
				                {field: 'applyName', title: '申请人姓名', align: 'center'},
				                {field: 'type', title: '休假类型',templet: "#type", align: 'center'},
				                {field: 'linkTel', title: '联系电话', align: 'center'},
				                {field: 'startTime', title: '请假开始日期', align: 'center'},
				                {field: 'endTime', title: '请假结束日期', align: 'center'},
				                {field: 'proxyName', title: '临时代理人', align: 'center'},
				                {field: 'extension', title: '代理人电话', align: 'center'},
				                {field: 'reason', title: '申请理由', align: 'center'},
				                {field: 'checkStatus', title: '申请状态', templet: "#buttonTpl", minWidth: 80, align: 'center'},
				                {fixed: 'right', title: '操作', toolbar: '#table-content-list', minWidth: 150}
				            ]],
				            page: !0,
				            limit: 10,
				            limits: [10, 15, 20, 25, 30],
				        }),
				            table.on("tool(LAY-report-statistics-length)", function (obj) {
				                var data = obj.data;
				                "del" === obj.event ? layer.confirm("确定删除申请？", function (e) {
				                    $.ajax({
				                        url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
				                        type: "GET",
				                        dataType: "json",
				                        data: {
				                            id: data.id,
				                        },
				                        success: function (b) {
				                            table.reload('LAY-report-statistics-length');
				                            layer.msg('删除成功');
				                            obj.del(), layer.close(e)
				                        },
				                        error: function (e) {
				                            layer.msg('删除失败')
				                            layer.msg(e);
				                        }
				                    })
				                }) : "edit" === obj.event && admin.popup({
				                    title: "编辑休假申请",
				                    area: ['720px', '700px'],
				                    id: "LAY-popup-content-edit",
				                    success: function (t, layero) {
				                        view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function () {
				                            $.ajax({
				                                url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
				                                type: "GET",
				                                dataType: "json",
				                                data: {
				                                    id: data.id
				                                },
				                                success: function (e) {
				                                    //layer.msg(e.contractCheckVo);
				                                    let obj = e.data;
				                                    form.val("layuiadmin-app-form-list", {
				                                        "id": obj.id,
				                                        "commonId": obj.commonId,
				                                        "name": obj.name,
				                                        "code": obj.code,
				                                        "applyTime": obj.applyTime,
				                                        "checkStatus": obj.checkStatus,
				                                        "updatedBy": obj.updatedBy,
				                                        "gmtUpdated": obj.gmtUpdated,
				                                        "applyName": obj.applyName,
				                                        "applyId": obj.applyId,
				                                        "startTime": obj.startTime,
				                                        "endTime": obj.endTime,
				                                        "countDay": obj.countDay,
				                                        "countHour": obj.countHour,
				                                        "proxyName": obj.proxyName,
				                                        "extension": obj.extension,
				                                        "type": obj.type,
				                                        "linkTel": obj.linkTel,
				                                        "reason": obj.reason,
				                                        "remark": obj.remark,
				                                    });
				                                    //日期
				                                    $(".date").each(function () {
				                                        laydate.render({
				                                            elem: this,
				                                            trigger: 'click',
				                                        });
				                                    })
				                                },
				                                error: function (e) {
				                                    layer.msg(e);
				                                }
				                            })
				                            form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)", function (
				                                data) {
				                                $.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("修改成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layui.table.reload("LAY-report-statistics-length"), layer.close(layero)
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            })
				                        })
				                    }
				                })
				            })
				
				
				        form.render(null, 'app-content-list');
				
				        //监听搜索
				        form.on('submit(LAY-app-contlist-search)', function (data) {
				            var field = data.field;
				            console.log(field);
				            //执行重载
				            table.reload('LAY-report-statistics-length', {
				                where: field
				            });
				        });
				
				        var active = {
				            batchdel: function () {
				                var checkStatus = table.checkStatus('LAY-report-statistics-length'),
				                    checkData = checkStatus.data; //得到选中的数据
				                if (checkData.length === 0) {
				                    return layer.msg('请选择数据');
				                }
				                let arr = "";
				                for (var i in checkData) {
				                    arr += checkData[i].id + "-";
				                }
				                layer.confirm('确定删除吗？', function (index) {
				                    $.ajax({
				                        type: "GET",
				                        url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
				                        dataType: "json",
				                        data: {ids: arr},
				                        success: function (json) {
				                            table.reload('LAY-report-statistics-length');
				                            layer.msg('已删除');
				
				                        }
				                    });
				                    //执行 Ajax 后重载
				
				
				                });
				            }
				
				            //添加
				            ,
				            add: function (othis) {
				                admin.popup({
				                    title: '添加休假申请',
				                    area: ['720px', '700px'],
				                    id: 'LAY-popup-content-add',
				                    success: function (layero, index) {
				                        view(this.id).render('apply/holidayapply/holidayapplyform').done(function () {
				                            form.render(null, 'layuiadmin-app-form-list');
				                            //日期
				                            $(".date").each(function () {
				                                laydate.render({
				                                    elem: this,
				                                    trigger: 'click',
				                                });
				                            })
				                            //监听提交
				                            form.on('submit(layuiadmin-app-form-submit)', function (data) {
				                                var field = data.field; //获取提交的字段
				                                $.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
				                                    data.field,
				                                    function (ev) {
				                                        layer.msg("新增成功", {
				                                            time: 1000
				                                        }, function () {
				                                            layer.close(index); //执行关闭
				                                            layui.table.reload('LAY-report-statistics-length'); //重载表格
				                                        })
				                                    });
				                                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
				                            });
				                        });
				                    }
				                });
				            }
				        };
				
				        $('.layui-btn.layuiadmin-btn-list').on('click', function () {
				            var type = $(this).data('type');
				            active[type] ? active[type].call(this) : '';
				        });
				        //日期
				        $(".date").each(function () {
				            laydate.render({
				                elem: this,
				                trigger: 'click',
				            });
				        })
				
				    });
				</script>
				</div>

				<!--按员工查询-->
				<div class="layui-tab-item">

					<div class="layui-form-item">
						<!-- 搜索按钮 -->
						<div class="layui-input-inline">
							<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
								<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息11</i>
							</button>
						</div>
					</div>

					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">部门名称</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务级别</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">主任</option>
									<option value="2">经理</option>
									<option value="3">工人</option>
									<option value="4">科员</option>
									<option value="5">总监</option>
									<option value="6">文员</option>
									<option value="7">主管</option>
									<option value="8">互动专员</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">IT</option>
									<option value="2">保险产品</option>
									<option value="3">财务</option>
									<option value="4">采购</option>
									<option value="5">客服</option>
									<option value="6">人力资源</option>
									<option value="7">市场</option>
									<option value="8">销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">职务名称</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">人事专员</option>
									<option value="2">人事专员</option>
									<option value="3">项目经理</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">工龄</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">自定义</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">操作证</option>
									<option value="2">供应链管理</option>
									<option value="3">管理</option>
									<option value="4">基础</option>
									<option value="5">品质管理</option>
									<option value="6">其他</option>
									<option value="7">人力资源</option>
									<option value="8">入职培训</option>
									<option value="9">生产</option>
									<option value="10">市场销售</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程属性</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">课程类型</label>
							<div class="layui-input-inline">
								<select name="buttonTpl" lay-verify="" lay-search="">
									<option value="">--请选择--</option>
									<option value="1">必修</option>
									<option value="2">选修</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">员工姓名</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">等效课程</label>
							<div class="layui-input-inline">
								<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
							</div>
						</div>
					</div>
					<div class="layui-card-body">
						<div class="layui-form-item">
							<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
						</div>
						<table id="LAY-report-statistics-staff" lay-filter="LAY-report-statistics-staff"></table>
					</div>
					<script>
						layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function() {
							var $ = layui.$,
								admin = layui.admin,
								view = layui.view,
								table = layui.table,
								laydate = layui.laydate,
								form = layui.form;

							//表格渲染
							table.render({
									elem: '#LAY-report-statistics-staff',
									url: commonSrc + 'api/train/demandStatisticsController/listByEmploy',
									toolbar: '#toolbarDemo',
									request: {
										pageName: 'pageNum' //页码的参数名称，默认：page
											,
										limitName: 'pageSize' //每页数据量的参数名，默认：limit
									},
									response: {
										statusCode: 200 //规定成功的状态码，默认：0
									},
									parseData: function(res) { //res 即为原始返回的数据
										return {
											"code": res.code, //解析接口状态
											"msg": res.desc, //解析提示文本
											"count": res.total, //解析数据长度
											"data": res.dataList //解析数据列表
										};
									},
									cols: [
										[{
											type: 'checkbox',
											fixed: "left"
										}, {
											field: 'avgDemandHours',
											title: '人均需求小时',
											align: 'center',
										}, {
											field: 'avgDynamicHours',
											title: '人均动态需求小时',
											align: 'center',
										}, {
											field: 'avgFinishHours',
											title: '人均完成需求小时',
											align: 'center',
										}, {
											field: 'demandNum',
											title: '需求人数',
											align: 'center',
										}, {
											field: 'developDemandNum',
											title: '发展需求人次x2',
											align: 'center',
										}, {
											field: 'dynamicNum',
											title: '动态需求人次x1+x2-y-z',
											align: 'center',
										},{
											field: 'employId',
											title: '员工',
											align: 'center',
										},{
											field: 'exemptNum',
											title: '免除培训人次z',
											align: 'center',
										}, {
											field: 'finishRate',
											title: '需求完成率(y+z)/(x1+x2)',
											align: 'center',
										}, {
											field: 'staticDemandNum',
											title: '静态需求人次x1',
											align: 'center',
										}, {
											field: 'trainedNum',
											title: '已培训人次y',
											align: 'center',
										}]
									],
									page: !0,
									limit: 10,
									limits: [10, 15, 20, 25, 30],
								}),
								table.on("tool(LAY-report-statistics-staff)", function(obj) {
									var data = obj.data;
									"del" === obj.event ? layer.confirm("确定删除申请？", function(e) {
										$.ajax({
											url: commonSrc + "api/hr/holidayApplyController/deleteHolidayApply", //换成自己的url
											type: "GET",
											dataType: "json",
											data: {
												id: data.id,
											},
											success: function(b) {
												table.reload('LAY-report-statistics-staff');
												layer.msg('删除成功');
												obj.del(), layer.close(e)
											},
											error: function(e) {
												layer.msg('删除失败')
												layer.msg(e);
											}
										})
									}) : "edit" === obj.event && admin.popup({
										title: "编辑休假申请",
										area: ['720px', '700px'],
										id: "LAY-popup-content-edit",
										success: function(t, layero) {
											view(this.id).render("apply/holidayapply/holidayapplyform", data).done(function() {
												$.ajax({
													url: commonSrc + "api/hr/holidayApplyController/selectHolidayApply", //换成自己的url
													type: "GET",
													dataType: "json",
													data: {
														id: data.id
													},
													success: function(e) {
														//layer.msg(e.contractCheckVo);
														let obj = e.data;
														form.val("layuiadmin-app-form-list", {
															"id": obj.id,
															"commonId": obj.commonId,
															"name": obj.name,
															"code": obj.code,
															"applyTime": obj.applyTime,
															"checkStatus": obj.checkStatus,
															"updatedBy": obj.updatedBy,
															"gmtUpdated": obj.gmtUpdated,
															"applyName": obj.applyName,
															"applyId": obj.applyId,
															"startTime": obj.startTime,
															"endTime": obj.endTime,
															"countDay": obj.countDay,
															"countHour": obj.countHour,
															"proxyName": obj.proxyName,
															"extension": obj.extension,
															"type": obj.type,
															"linkTel": obj.linkTel,
															"reason": obj.reason,
															"remark": obj.remark,
														});
														//日期
														$(".date").each(function() {
															laydate.render({
																elem: this,
																trigger: 'click',
															});
														})
													},
													error: function(e) {
														layer.msg(e);
													}
												})
												form.render(null, "layuiadmin-app-form-list"), form.on("submit(layuiadmin-app-form-submit)",
													function(
														data) {
														$.post(commonSrc + "api/hr/holidayApplyController/updateHolidayApply",
															data.field,
															function(ev) {
																layer.msg("修改成功", {
																	time: 1000
																}, function() {
																	layui.table.reload("LAY-report-statistics-staff"), layer.close(layero)
																})
															});
														return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
													})
											})
										}
									})
								})


							form.render(null, 'app-content-list');

							//监听搜索
							form.on('submit(LAY-app-contlist-search)', function(data) {
								var field = data.field;
								console.log(field);
								//执行重载
								table.reload('LAY-report-statistics-staff', {
									where: field
								});
							});

							var active = {
								batchdel: function() {
										var checkStatus = table.checkStatus('LAY-report-statistics-staff'),
											checkData = checkStatus.data; //得到选中的数据
										if (checkData.length === 0) {
											return layer.msg('请选择数据');
										}
										let arr = "";
										for (var i in checkData) {
											arr += checkData[i].id + "-";
										}
										layer.confirm('确定删除吗？', function(index) {
											$.ajax({
												type: "GET",
												url: commonSrc + "api/hr/holidayApplyController/deleteMultipleHolidayApply",
												dataType: "json",
												data: {
													ids: arr
												},
												success: function(json) {
													table.reload('LAY-report-statistics-staff');
													layer.msg('已删除');

												}
											});
											//执行 Ajax 后重载


										});
									}

									//添加
									,
								add: function(othis) {
									admin.popup({
										title: '添加休假申请',
										area: ['720px', '700px'],
										id: 'LAY-popup-content-add',
										success: function(layero, index) {
											view(this.id).render('apply/holidayapply/holidayapplyform').done(function() {
												form.render(null, 'layuiadmin-app-form-list');
												//日期
												$(".date").each(function() {
													laydate.render({
														elem: this,
														trigger: 'click',
													});
												})
												//监听提交
												form.on('submit(layuiadmin-app-form-submit)', function(data) {
													var field = data.field; //获取提交的字段
													$.post(commonSrc + "api/hr/holidayApplyController/insertHolidayApply",
														data.field,
														function(ev) {
															layer.msg("新增成功", {
																time: 1000
															}, function() {
																layer.close(index); //执行关闭
																layui.table.reload('LAY-report-statistics-staff'); //重载表格
															})
														});
													return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
												});
											});
										}
									});
								}
							};

							$('.layui-btn.layuiadmin-btn-list').on('click', function() {
								var type = $(this).data('type');
								active[type] ? active[type].call(this) : '';
							});
							//日期
							$(".date").each(function() {
								laydate.render({
									elem: this,
									trigger: 'click',
								});
							})

						});
					</script>
				</div>

			</div>
		</div>
	</div>
