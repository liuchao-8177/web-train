<title>费用统计</title>

<div class="layui-tab layui-tab-card" lay-filter="" lay-allowclose="true">
	<ul class="layui-tab-title layui-bg-black">
		<li data-status="" class="layui-this">未培训</li>
		<li data-status="1">按部门</li>
		<li data-status="2">按职位类型</li>
		<li data-status="3">按职位级别</li>
		<li data-status="4">按课程类型</li>
		<li data-status="5">按等效课程</li>
		<li data-status="6">按优先级</li>
		<li data-status="7">按课程属性</li>
		<li data-status="8">按职位</li>
		<li data-status="9">按工龄</li>
		<li data-status="10">按员工</li>
	</ul>

	<div class="layui-tab-content">
		<!-- 按部门查询，默认开始 -->
		<div class="layui-tab-item layui-show">

			<div class="layui-form-item">
				<!-- 搜索按钮 -->
				<div class="layui-input-inline">
					<button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
						<i class="layui-icon layui-icon-search layuiadmin-button-btn">查询信息</i>
					</button>
				</div>
			</div>

			<div class="layui-form-item">
				<div class="layui-inline">
					<label class="layui-form-label">部门名称</label>
					<div class="layui-input-inline">
						<input type="text" name="" lay-verify="" placeholder="部门名称" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">职务级别</label>
					<div class="layui-input-inline">
						<select name="buttonTpl" lay-verify="" lay-search="">
							<option value="">--请选择--</option>
							<option value="1">主任</option>
							<option value="2">经理</option>
							<option value="3">工人</option>
							<option value="4">科员</option>
							<option value="5">总监</option>
							<option value="6">文员</option>
							<option value="7">主管</option>
							<option value="8">互动专员</option>
						</select>
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">职务类型</label>
					<div class="layui-input-inline">
						<select name="buttonTpl" lay-verify="" lay-search="">
							<option value="">--请选择--</option>
							<option value="1">IT</option>
							<option value="2">保险产品</option>
							<option value="3">财务</option>
							<option value="4">采购</option>
							<option value="5">客服</option>
							<option value="6">人力资源</option>
							<option value="7">市场</option>
							<option value="8">销售</option>
						</select>
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">职务名称</label>
					<div class="layui-input-inline">
						<select name="buttonTpl" lay-verify="" lay-search="">
							<option value="">--请选择--</option>
							<option value="1">人事专员</option>
							<option value="2">人事专员</option>
							<option value="3">项目经理</option>
						</select>
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">工龄</label>
					<div class="layui-input-inline">
						<input type="text" name="" lay-verify="" placeholder="工龄" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">自定义</label>
					<div class="layui-input-inline">
						<input type="text" name="" lay-verify="" placeholder="自定义" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">课程类型</label>
					<div class="layui-input-inline">
						<select name="buttonTpl" lay-verify="" lay-search="">
							<option value="">--请选择--</option>
							<option value="1">操作证</option>
							<option value="2">供应链管理</option>
							<option value="3">管理</option>
							<option value="4">基础</option>
							<option value="5">品质管理</option>
							<option value="6">其他</option>
							<option value="7">人力资源</option>
							<option value="8">入职培训</option>
							<option value="9">生产</option>
							<option value="10">市场销售</option>
						</select>
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">课程属性</label>
					<div class="layui-input-inline">
						<input type="text" name="" lay-verify="" placeholder="课程属性" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">课程类型</label>
					<div class="layui-input-inline">
						<select name="buttonTpl" lay-verify="" lay-search="">
							<option value="">--请选择--</option>
							<option value="1">必修</option>
							<option value="2">选修</option>
						</select>
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">员工姓名</label>
					<div class="layui-input-inline">
						<input type="text" name="" lay-verify="" placeholder="员工姓名" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">等效课程</label>
					<div class="layui-input-inline">
						<input type="text" name="" lay-verify="" placeholder="等效课程" autocomplete="off" class="layui-input">
					</div>
				</div>
			</div>
		</div>




		<div class="layui-card-body">
			<div class="layui-form-item">
				<button class="layui-btn layuiadmin-btn-list" data-type="">数据列表</button>
			</div>
			<table id="order_all" lay-filter="LAY-app-content-list"></table>
		</div>
	</div>
</div>

<script>
	layui.use(['admin', 'contlist', 'table', 'form', 'laydate'], function() {
		// Tab的切换功能，切换事件监听等，需要依赖element模块
		var $ = layui.$,
			admin = layui.admin,
			view = layui.view,
			table = layui.table,
			laydate = layui.laydate,
			form = layui.form;
		
		// 初始化加载
		getList('#order_all', '')
		form.render('select');

		// 监听tab切换 操作：文档 - 内置模块 - 常用元素操作 element - 监听tab切换
		element.on('tab(tab-all)', function(data) {
			// console.log(this);        // 当前Tab标题所在的原始DOM元素
			// console.log(data.index);  // 得到当前Tab的所在下标
			// console.log(data.elem);   // 得到当前的Tab大容器
			var status = $(this).attr('data-status')
			var position = '#order_all'
			switch (status) {
				case '1':
					position = '#order_pay';
					break;
				case '2':
					position = '#order_receive';
					break;
				case '3':
					position = '#order_finish';
					break;
				case '4':
					position = '#order_cancel';
					break;
				default:
					position = '#order_all';
			}
			getList(position, status)
		})
		// 公共方法
		function getList(position, status = '') {
			table.render({
				elem: position,
				method: 'get',
				url: 'api/hr/LeaveController/list',
				where: {
					status: status
				},
				limit: true,
				limits: [0, 10, 15],
				request: {
					pageName: 'page' //页码的参数名称，默认：page
						,
					limitName: 'size' //每页数据量的参数名，默认：limit
				},
				cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
					,
				cols: [
					[{
						type: 'checkbox',
						fixed: "left"
					}, {
						field: 'id',
						title: 'id',
						hide: true,
					}, {
						field: 'commonId',
						title: '申请公共id',
						hide: true,
					}, {
						field: 'leaveUserIid',
						title: '员工id',
						hide: true,
					}, {
						field: 'leaveUserName',
						title: '姓名',
						align: 'center'
					}, {
						field: 'leaPost',
						title: '工作岗位',
						align: 'center'
					}, {
						field: 'entryDate',
						title: '入职时间',
						align: 'center'
					}, {
						field: 'workPlace',
						title: '工作地点',
						align: 'center'
					}, {
						field: 'leaveType',
						title: '离职类型',
						align: 'center'
					}, {
						field: 'linkTel',
						title: '联络电话',
						align: 'center'
					}, {
						field: 'leaveReason',
						title: '离职原因',
						align: 'center'
					}, {
						field: 'hopeLeaveDate',
						title: '期望最后工作日',
						align: 'center'
					}, {
						field: 'remark',
						title: '备注',
						align: 'center'
					}, {
						field: 'operateType',
						title: '申请类型',
						align: 'center'
					}, {
						field: 'applyType',
						title: '申请单类型',
						align: 'center'
					}, {
						field: 'applyTime',
						title: '申请时间',
						align: 'center'
					}, {
						field: 'checkStatus',
						title: '申请状态',
						templet: "#buttonTpl",
						minWidth: 80,
						align: 'center'
					}, {
						fixed: 'right',
						title: '操作',
						toolbar: '#table-content-list',
						minWidth: 150,
					}]
				],
				page: true,
				parseData: function(res) { //将原始数据解析成 table 组件所规定的数据
					return {
						"code": res.code, //解析接口状态
						"msg": res.desc, //解析提示文本
						"count": res.total, //解析数据长度
						"data": res.dataList //解析数据列表
					};
				}
			});
		}
	})
</script>
</body>
